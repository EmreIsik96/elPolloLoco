<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="./favicon/fav_icon.svg">
    <title>El Pollo Loco</title>
    <script src="./models/world.class.js"></script>
    <script src="./models/soundCollection.object.js"></script>
    <script src="./models/drawable-object.class.js"></script>
    <script src="./models/movable-object.class.js"></script>
    <script src="./models/character.class.js"></script>
    <script src="./models/chicken.class.js"></script>
    <script src="./models/endboss.class.js"></script>
    <script src="./models/cloud.class.js"></script>
    <script src="./models/healthBar.class.js"></script>
    <script src="./models/coinBar.class.js"></script>
    <script src="./models/bottleBar.class.js"></script>
    <script src="./models/background-object.class.js"></script>
    <script src="./models/keyboard.class.js"></script>
    <script src="./models/level.class.js"></script>
    <script src="./levels/level1.js"></script>
    <script src="./models/thowable-object.class.js"></script>
    <script src="./models/coins.class.js"></script>
    <script src="./models/bottles.class.js"></script> 
    <script src="./js/game.js"></script>
</head>

<body>
    <h1>El pollo loco</h1>
    
    <div id="start-screen">
        <img class="start-image" src="./img/9_intro_outro_screens/start/startscreen_1.png" alt="Start Image" id="start-image">
        <button class="start-button" onclick="startGame()">Start</button>
    </div>

    <div style="display: none;" id="gameOver-screen">
        <img class="endscreen-image" src="img/9_intro_outro_screens/game_over/game over.png" alt="Win Image" id="win-image">
        <button class="start-button" onclick="restartGame()">Play Again</button>
    </div>

    <div id="game-container" style="display:none;">
    <canvas id="canvas" width="720" height="480">
    </div>

    <div class="instructionsContainer">
        <h3>(<-)  Left</h3>
        <h3>(->)  Right</h3>
        <h3>(Space)  Jump</h3>
        <h3>(F)  ThrowBottle</h3>
    </div>
    
    <script>
        let soundCollection = new SoundCollection();
        let charIsDead = false;

        function startGame() {
            charIsDead = false;
            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('game-container').style.display = 'block';
            soundCollection.sounds.startGameAudio.play();
            setTimeout(()=>
            {
            initLevel(); 
            init();
            }, 1000);
            
        }

        function clearAllIntervals() {
            for (let i = 1; i < 9999; i++) window.clearInterval(i);
        }

        function gameOver() {
            clearAllIntervals();
            charIsDead = true;
            soundCollection.sounds.gameOverAudio.play();
            soundCollection.sounds.startGameAudio.pause();
            document.getElementById('game-container').style.display = 'none';
            document.getElementById('gameOver-screen').style.display = 'block'; // Game Over Screen anzeigen
        }

        function restartGame() {
            charIsDead = false;
            document.getElementById('gameOver-screen').style.display = 'none';
            document.getElementById('game-container').style.display = 'block';
            soundCollection.sounds.startGameAudio.currentTime = 0;
            soundCollection.sounds.startGameAudio.play(); // Spielsound neu starten
            initLevel();
            init();
        }
        
    </script>

</body>

</html>